(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[981],{31590:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-verify",function(){return n(92351)}])},1675:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var s=n(85893),r=function(e){var t=e.test,n=e.children;return t?(0,s.jsx)(s.Fragment,{children:n}):null}},98434:function(e,t,n){"use strict";n.d(t,{N:function(){return o}});var s=n(41799),r=n(69396),a=n(99534),i=n(85893),l=n(86010),o=function(e){var t=e.title,n=e.subtitle,o=e.htmlId,c=e.isRequired,u=e.children,d=e.className,f=e.labelAs,m=void 0===f?"label":f,p=(0,a.Z)(e,["title","subtitle","htmlId","isRequired","children","className","labelAs"]);return(0,i.jsxs)("div",(0,r.Z)((0,s.Z)({className:(0,l.Z)("flex flex-col space-y-2",d)},p),{children:[(0,i.jsxs)(m,{className:"flex flex-col space-y-1",htmlFor:o,children:[(0,i.jsx)("span",{className:(0,l.Z)("font-bold first-letter:capitalize",{"after:text-red-500 after:content-['_*']":c}),children:t}),n&&(0,i.jsx)("span",{className:"text-sm text-black/50",children:n})]}),u]}))}},24522:function(e,t,n){"use strict";n.d(t,{K:function(){return m}});var s=n(85893),r=n(67294),a=n(89583),i=n(4619),l=n(41799),o=n(69396),c=n(99534),u=n(86010),d=n(95237),f=function(e){var t=e.label,n=e.children,a=(0,c.Z)(e,["label","children"]),i=(0,r.useState)(null),f=i[0],m=i[1],p=(0,r.useState)(null),h=p[0],x=p[1],g=(0,r.useState)(!1),b=g[0],v=g[1],y=(0,d.D)(f,h,{placement:"top"}),j=y.styles,w=y.attributes;return(0,s.jsxs)(s.Fragment,{children:[(0,r.cloneElement)(n,(0,o.Z)((0,l.Z)({},n.props),{ref:m,onMouseOver:function(){return v(!0)},onMouseOut:function(){return v(!1)}})),b&&(0,s.jsx)("div",(0,o.Z)((0,l.Z)({},a,w.popper),{className:(0,u.Z)("py-1 px-2 m-1 text-sm bg-black/80 rounded shadow-md",a.className),ref:x,style:(0,l.Z)({},j.popper,a.style),children:t}))]})},m=function(e){var t=e.copyable,n=void 0!==t&&t,l=e.isVisible,o=void 0===l||l,c=e.title,u=void 0===c?"JSON Preview":c,d=e.content,m=e.initialState,p=void 0===m?o:m,h=e.onClose,x=e.isCopyable,g=void 0===x?n:x,b=e.isToggleable,v=void 0===b||b,y=(0,r.useState)((function(){return p})),j=y[0],w=y[1];return(0,s.jsxs)("div",{className:"relative bg-white-800/80 rounded border-2 border-black/20 divide-y-2 divide-white/20",children:[(0,s.jsxs)("div",{className:"flex items-center py-1 px-2 space-x-2",children:[(0,s.jsx)("span",{className:"text-sm font-bold",children:u}),(0,s.jsx)("div",{className:"flex-grow"}),v&&(0,s.jsx)(f,{label:j?"Hide content":"Show content",children:(0,s.jsx)("button",{onClick:function(){v&&w((function(e){return!e}))},type:"button",children:(0,s.jsx)(a.RiI,{className:j?"rotate-180":"",size:16})})}),g&&(0,s.jsx)(f,{label:"Copy to clipboard",children:(0,s.jsx)("button",{onClick:function(){(0,i.J)(JSON.stringify(d))},type:"button",children:(0,s.jsx)(a.VD6,{size:16})})}),h&&(0,s.jsx)(f,{label:"Close",children:(0,s.jsx)("button",{className:"text-plumbus",onClick:h,type:"button",children:(0,s.jsx)(a.aHS,{size:20})})})]}),j&&(0,s.jsx)("div",{className:"overflow-auto p-2 font-mono text-sm",children:(0,s.jsx)("pre",{children:JSON.stringify(d,null,2).trim()})})]})}},55642:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var s=n(41799),r=n(99534),a=n(85893),i=n(86010),l=(0,n(67294).forwardRef)((function(e,t){var n=e.className,l=(0,r.Z)(e,["className"]);return(0,a.jsx)("input",(0,s.Z)({className:(0,i.Z)("bg-white/10 rounded border-2 border-black/20 form-input","placeholder:text-black/50","focus:ring focus:ring-plumbus-20",n),ref:t},l))}))},92351:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var s=n(47568),r=n(70655),a=n(85893),i=n(28972),l=n(61489),o=n(86010),c=n(1675),u=n(98434),d=n(55642).F,f=n(24522),m=n(41799),p=n(99534),h=function(e){var t=e.className,n=(0,p.Z)(e,["className"]);return(0,a.jsx)("textarea",(0,m.Z)({className:(0,o.Z)("bg-white/10 rounded border-2 border-black/20 form-input","placeholder:text-black/50","focus:ring focus:ring-plumbus-20",t)},n))},x=n(44539),g=n(53723),b=n(11163),v=n(2962),y=n(67294),j=n(86501),w=n(59830),N=(0,n(83795).H)((function(){var e=(0,b.useRouter)(),t=(0,g.Os)(),n=(0,y.useState)(!1),m=n[0],p=n[1],N=(0,y.useState)(""),S=N[0],k=N[1],Z=(0,y.useState)(null),C=Z[0],_=Z[1],A=(0,y.useState)(""),q=A[0],E=A[1],I=(0,y.useState)(""),O=I[0],R=I[1],M=(0,y.useState)(""),P=M[0],F=M[1],J=""===S,V=""===O||""===q||""===P;(0,y.useEffect)((function(){e.query.address&&"string"===typeof e.query.address&&E(e.query.address),e.query.message&&"string"===typeof e.query.message&&R(e.query.message),e.query.signature&&"string"===typeof e.query.signature&&F(e.query.signature)}),[e.query]);var z=function(){var e=(0,s.Z)((function(){var e,n,s,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!window.getOfflineSigner)throw new Error("Keplr extension is not available");return n=(0,x.iE)(w.IB),p(!0),[4,null===(e=window.keplr)||void 0===e?void 0:e.signArbitrary(n.chainId,t.address,S)];case 1:return s=r.sent(),p(!1),_(null===s||void 0===s?void 0:s.signature),[3,3];case 2:return a=r.sent(),j.Am.error(a.message),p(!1),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,s.Z)((function(){var e,n;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),p(!0),[4,t.getClient().getAccount(q)];case 1:if(!(e=s.sent()))throw new Error("Account not found");if(!e.pubkey)throw new Error("Account public key not found");return(0,l.verifyADR36Amino)((0,x.iE)(w.IB).addressPrefix,q,O,(0,i.fromBase64)(e.pubkey.value),(0,i.fromBase64)(P))?j.Am.success("Message is signed by given signer!"):j.Am.error("Message is not signed by given signer!"),p(!1),[3,3];case 2:return n=s.sent(),j.Am.error(n.message),p(!1),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:"relative py-6 px-12 space-y-8",children:[(0,a.jsx)(v.PB,{title:"Sign and Verify"}),(0,a.jsx)("div",{className:"space-y-8 text-center",children:(0,a.jsx)("h1",{className:"font-heading text-4xl font-bold",children:"Sign Message"})}),(0,a.jsx)("hr",{className:"border-black/20"}),(0,a.jsx)(u.N,{htmlId:"message",subtitle:"Raw message data to be signed",title:"Message",children:(0,a.jsx)(h,{className:"h-[120px]",id:"message",name:"message",onChange:function(e){k(e.target.value),_(null)},placeholder:"Hello world from my wallet!",value:S})}),(0,a.jsxs)("div",{className:"flex justify-end w-full",children:[(0,a.jsx)(c.h,{test:C,children:(0,a.jsx)("button",{className:(0,o.Z)("flex items-center py-2 px-8 mr-5 space-x-2 font-bold bg-twitter rounded","transition hover:translate-y-[-2px]",{"opacity-50 cursor-not-allowed pointer-events-none":J},{"animate-pulse cursor-wait pointer-events-none":m}),onClick:function(){try{var e,n=new URLSearchParams({address:t.address,message:S,signature:C}),s=new URLSearchParams({text:"".concat(S,"\n\nVerify tweet using:"),url:"".concat(w.o6,"/sign-verify?").concat(n.toString())}).toString();null===(e=window.open("https://twitter.com/intent/tweet?".concat(s),"_blank"))||void 0===e||e.focus()}catch(r){j.Am.error(r.message)}},type:"button",children:(0,a.jsx)("span",{children:"Send Tweet"})})}),(0,a.jsx)("button",{className:(0,o.Z)("flex items-center py-2 px-8 space-x-2 font-bold bg-plumbus-50 hover:bg-plumbus-40 rounded","transition hover:translate-y-[-2px]",{"opacity-50 cursor-not-allowed pointer-events-none":J},{"animate-pulse cursor-wait pointer-events-none":m}),disabled:J,onClick:z,type:"button",children:(0,a.jsx)("span",{children:"Sign Message"})})]}),C&&(0,a.jsx)(f.K,{content:C,copyable:!0,title:"Signature"}),(0,a.jsx)("div",{className:"space-y-8 text-center",children:(0,a.jsx)("h1",{className:"font-heading text-4xl font-bold",children:"Verify Message"})}),(0,a.jsx)("hr",{className:"border-black/20"}),(0,a.jsx)(u.N,{htmlId:"signer-address",subtitle:"Address of the message signer",title:"Signer Address",children:(0,a.jsx)(d,{id:"signer-address",name:"signer-address",onChange:function(e){return E(e.target.value)},placeholder:"juno1234567890abcdefghijklmnopqrstuvwxyz...",type:"text",value:q})}),(0,a.jsx)(u.N,{htmlId:"message",subtitle:"Raw message data to be verified",title:"Message",children:(0,a.jsx)(h,{className:"h-[120px]",id:"message",name:"message",onChange:function(e){return R(e.target.value)},placeholder:"Hello world from my wallet!",value:O})}),(0,a.jsx)(u.N,{htmlId:"signature",subtitle:"Signature of the message",title:"Signature",children:(0,a.jsx)(d,{id:"signature",name:"signature",onChange:function(e){return F(e.target.value.replaceAll('"',""))},placeholder:"dbNQOORuE80hUpoklFJITktXU6q/Dx07iC0KFI9rPEJGXk.........",value:P})}),(0,a.jsx)("div",{className:"flex justify-end w-full",children:(0,a.jsx)("button",{className:(0,o.Z)("flex items-center py-2 px-8 space-x-2 font-bold bg-plumbus-50 hover:bg-plumbus-40 rounded","transition hover:translate-y-[-2px]",{"opacity-50 cursor-not-allowed pointer-events-none":V},{"animate-pulse cursor-wait pointer-events-none":m}),disabled:V,onClick:B,type:"button",children:(0,a.jsx)("span",{children:"Verify Message"})})})]})}),{center:!1})},42480:function(){}},function(e){e.O(0,[551,237,489,774,888,179],(function(){return t=31590,e(e.s=t);var t}));var t=e.O();_N_E=t}]);